process TrajectoryFilterAnalyze = {
	service = MessageLogger { untracked vstring destinations = { "cout"} }
        service = Tracer  {    untracked string indentation = "$$"  }
        untracked PSet maxEvents = {untracked int32 input = 1}
	source = EmptySource {}

	es_source aRecord = EmptyESSource {
		string recordName = "TrackingComponentsRecord"
		vuint32 firstValid = { 1 }
		bool iovIsRunNotTime = true
	}

	include "TrackingTools/TrajectoryFiltering/data/TrajectoryFilter.cff"

	es_module aFilter1 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter"
		PSet filterPset = {
			string ComponentType = "CompositeTrajectoryFilter"
			VPSet filters = {
					{string ComponentType = "MinHitsTrajectoryFilter"
					int32 minimumNumberOfHits = 5}
				}
			}
		}

	es_module aFilter2 = CompositeTrajectoryFilterESProducer {
		string ComponentName = "myFilter2"
		vstring filterNames = {"myFilter4", "myFilter5"}
	}

	es_module aFilter3 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter3"
		PSet filterPset = {using CkfBaseTrajectoryFilter_block}
	}

	es_module aFilter4 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter4"
		PSet filterPset = {using ChargeSignificanceTrajectoryFilter_block}
	}

	es_module aFilter5 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter5"
		PSet filterPset = {using CompositeTrajectoryFilter_block}
	}

	es_module aFilter6 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter6"
		PSet filterPset = {using MaxConsecLostHitsTrajectoryFilter_block}
	}

	es_module aFilter7 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter7"
		PSet filterPset = {using MaxLostHitsTrajectoryFilter_block}
	}

	es_module aFilter8 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter8"
		PSet filterPset = {using MaxHitsTrajectoryFilter_block}
	}

	es_module aFilter9 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter9"
		PSet filterPset = {using MinHitsTrajectoryFilter_block}
	}

	es_module aFilter10 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter10"
		PSet filterPset = {using MinPtTrajectoryFilter_block}
	}

	es_module aFilter11 = TrajectoryFilterESProducer {
		string ComponentName = "myFilter11"
		PSet filterPset = {using ThresholdPtTrajectoryFilter_block}
	}

	es_module aFilter12 = CompositeTrajectoryFilterESProducer {
		string ComponentName = "myFilter12"
		vstring filterNames = {
			"myFilter3",
			"myFilter5"
		}
	}

	module trajectoryFilterAnalyzer = TrajectoryFilterAnalyzer { 
		vstring filterNames ={ 
			"myFilter", 
			"myFilter2",
			"myFilter3",
			"myFilter4",
			"myFilter5",
			"myFilter6",
			"myFilter7",
			"myFilter8",
			"myFilter9",
			"myFilter10",
			"myFilter11",
			"myFilter12"
		 } }

  	path p = { trajectoryFilterAnalyzer}
}
